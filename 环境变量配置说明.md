# 环境变量配置说明

## 📋 后端环境变量（Render）

在Render项目设置中，需要配置以下环境变量：

### 服务器配置
```
PORT=3000
NODE_ENV=production
```

### 腾讯云COS配置

```
COS_SECRET_ID=你的SecretId
COS_SECRET_KEY=你的SecretKey
COS_REGION=ap-beijing
COS_BUCKET_NAME=你的Bucket名称
COS_DOMAIN=（可选，留空）
COS_ACCESS_TYPE=private
```

### 配置说明

#### COS_REGION（地域）
根据您的存储桶所在地域选择，常见值：
- `ap-beijing` - 北京
- `ap-shanghai` - 上海
- `ap-guangzhou` - 广州
- `ap-chengdu` - 成都

#### COS_ACCESS_TYPE（访问权限类型）

**推荐：`private`（私有读写）**
- ✅ 更安全：文件不能直接通过URL访问
- ✅ 需要签名URL：后端生成临时访问链接（1小时有效期）
- ✅ 防止未授权访问

**备选：`public`（公有读私有写）**
- ✅ 文件可以直接访问（访问速度快）
- ⚠️ 安全性较低：知道URL的人可以直接访问
- ⚠️ 需要配置防盗链等安全措施

---

## 📋 前端环境变量（Vercel）

在Vercel项目设置中，需要配置以下环境变量：

```
VITE_API_BASE_URL=https://your-app.onrender.com/api
```

**注意**：将 `your-app.onrender.com` 替换为您的实际Render后端URL

---

## 🔍 如何获取腾讯云COS配置信息

### 1. SecretId 和 SecretKey

1. 登录腾讯云控制台
2. 点击右上角头像 → "访问管理"
3. 进入"API密钥管理"
4. 点击"新建密钥"或查看现有密钥
5. 记录 SecretId 和 SecretKey

### 2. Bucket名称和地域

1. 登录腾讯云控制台
2. 进入"对象存储COS"
3. 查看您的存储桶列表
4. 记录存储桶名称和所属地域

---

## ⚠️ 安全提示

1. **不要将环境变量提交到Git仓库**
   - `.env` 文件应该添加到 `.gitignore`
   - 只在部署平台（Render/Vercel）中设置环境变量

2. **定期更换密钥**
   - 建议每3-6个月更换一次SecretKey
   - 更换后记得更新环境变量

3. **使用私有读写模式**
   - 推荐使用 `COS_ACCESS_TYPE=private`
   - 更安全，文件需要签名URL才能访问

